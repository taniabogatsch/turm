<!-- template containing the navigation bar present at all pages -->

<nav class="navbar navbar-expand-lg navbar-dark menu">

  <div class="navbar-brand padding-bottom-24">
    <!-- Turm2 icon -->
    <a href='{{url "App.Index"}}' class="float-left">
      <img src="/public/img/TurmIcon.png" class="menu-icon">
    </a>
  </div>

  <div class="navbar-brand">
    <!-- Turm2 text -->
    <a class="text-white card-link float-left" href='{{url "App.Index"}}'>
      <h2>
        Turm II
      </h2>
    </a>
  </div>

  <!-- data toggle for mobile view -->
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarContent">
    <ul class="navbar-nav mr-auto">

      <!-- get back to main page -->
      <li class="nav-item active">
        <a class="nav-link" href='{{url "App.Index"}}'>
          {{msg $ "index.page"}}
        </a>
      </li>

      <!-- data privacy, news feed, FAQ, tutorials, imprint-->
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle text-white" href="#" id="dropdownHelpPages" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          {{msg $ "nav.help"}}
        </a>
        <!-- TODO -->
        <div class="dropdown-menu" aria-labelledby="dropdownHelpPages">
          <a class="dropdown-item" href="#"> {{msg $ "data.privacy.tab"}} </a>
          <a class="dropdown-item" href="#"> {{msg $ "news.feed.tab"}} </a>
          <a class="dropdown-item" href="#"> {{msg $ "faq.tab"}} </a>
          <a class="dropdown-item" href="#"> {{msg $ "imprint.tab"}} </a>
        </div>
      </li>

      <!--languages -->
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle text-white" href="#" id="dropdownLanguages" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          {{range .languages}}
            {{if eq $.currentLocale .}}
              <img class="menu-flags" src="/public/img/{{.}}_flag.png">
            {{end}}
          {{end}}
        </a>
        <div class="dropdown-menu menu-flag" aria-labelledby="dropdownLanguages">
          {{range .languages}}
            <a class="dropdown-item" href='{{url "App.ChangeLanguage" .}}'>
              <img src="/public/img/{{.}}_flag.png">
            </a>
          {{end}}
        </div>
      </li>
    </ul>

    {{if .session.userID}}
      <span class="navbar-text margin-right-20">
        <a class="text-white" href="#">
          {{$.session.firstName}} {{$.session.lastName}}
        </a>
      </span>
    {{end}}

    <form class="form-inline my-2 my-lg-0 margin-10">
      <div class="input-group">
        <input class="form-control" type="search" placeholder='{{msg $ "search.course"}}'>
        <div class="input-group-append">
          <span class="btn btn-outline-light border-left-none">
            {{template "icons/search.html"}}
          </span>
        </div>
      </div>
    </form>

    <button class="btn btn-outline-light" type="button">
      Gruppen
    </button>

    <!-- a user is logged in -->
    {{if .session.userID}}
      <form class="form-inline my-2 my-lg-0" action='{{url "User.Logout"}}' method="GET">
        <button class="btn btn-outline-light margin-10" type="submit">
          {{msg $ "button.logout"}}
        </button>
      </form>

    <!-- no user is logged in, link and button to login page -->
    {{else}}
      <form class="form-inline my-2 my-lg-0" action='{{url "User.LoginPage"}}' method="GET">
        <button class="btn btn-outline-light margin-10" type="submit">
          {{msg $ "button.login"}}
        </button>
      </form>
    {{end}}

  </div>
</nav>

<br>
<br>
